{"ast":null,"code":"import { GridFilterInputSingleSelect } from '../components/panel/filterPanel/GridFilterInputSingleSelect';\nimport { GridFilterInputMultipleSingleSelect } from '../components/panel/filterPanel/GridFilterInputMultipleSingleSelect';\n\nvar parseObjectValue = function parseObjectValue(value) {\n  if (value == null || typeof value !== 'object') {\n    return value;\n  }\n\n  return value.value;\n};\n\nexport var getGridSingleSelectQuickFilterFn = function getGridSingleSelectQuickFilterFn(value, column, apiRef) {\n  if (!value) {\n    return null;\n  }\n\n  var valueOptions = column.valueOptions,\n      valueFormatter = column.valueFormatter,\n      field = column.field;\n  var potentialValues = [parseObjectValue(value).toString()];\n  var iterableColumnValues = typeof valueOptions === 'function' ? valueOptions({\n    field: field\n  }) : valueOptions || [];\n\n  if (iterableColumnValues) {\n    iterableColumnValues.forEach(function (option) {\n      // for each valueOption, check if the formatted value\n      var optionValue;\n      var optionLabel;\n\n      if (typeof option === 'object') {\n        optionValue = option.value;\n        optionLabel = option.label;\n      } else {\n        optionValue = option;\n\n        if (valueFormatter) {\n          optionLabel = valueFormatter({\n            value: option,\n            field: field,\n            api: apiRef.current\n          });\n        } else {\n          optionLabel = option;\n        }\n      }\n\n      if (optionLabel.slice(0, value.length).toLowerCase() === value.toLowerCase()) {\n        if (!potentialValues.includes(optionValue)) {\n          potentialValues.push(optionValue.toString());\n        }\n      }\n    });\n  }\n\n  return function (_ref) {\n    var columnValue = _ref.value;\n    return columnValue != null ? potentialValues.includes(parseObjectValue(columnValue).toString()) : false;\n  };\n};\nexport var getGridSingleSelectOperators = function getGridSingleSelectOperators() {\n  return [{\n    value: 'is',\n    getApplyFilterFn: function getApplyFilterFn(filterItem) {\n      if (filterItem.value == null || filterItem.value === '') {\n        return null;\n      }\n\n      return function (_ref2) {\n        var value = _ref2.value;\n        return parseObjectValue(value) === parseObjectValue(filterItem.value);\n      };\n    },\n    InputComponent: GridFilterInputSingleSelect\n  }, {\n    value: 'not',\n    getApplyFilterFn: function getApplyFilterFn(filterItem) {\n      if (filterItem.value == null || filterItem.value === '') {\n        return null;\n      }\n\n      return function (_ref3) {\n        var value = _ref3.value;\n        return parseObjectValue(value) !== parseObjectValue(filterItem.value);\n      };\n    },\n    InputComponent: GridFilterInputSingleSelect\n  }, {\n    value: 'isAnyOf',\n    getApplyFilterFn: function getApplyFilterFn(filterItem) {\n      if (!Array.isArray(filterItem.value) || filterItem.value.length === 0) {\n        return null;\n      }\n\n      var filterItemValues = filterItem.value.map(parseObjectValue);\n      return function (_ref4) {\n        var value = _ref4.value;\n        return filterItemValues.includes(parseObjectValue(value));\n      };\n    },\n    InputComponent: GridFilterInputMultipleSingleSelect\n  }];\n};","map":null,"metadata":{},"sourceType":"module"}