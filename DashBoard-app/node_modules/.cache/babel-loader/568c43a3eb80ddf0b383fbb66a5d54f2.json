{"ast":null,"code":"import _slicedToArray from \"/home/abdallah/Documents/React-apps/DashBoard-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { isFunction } from '../../utils/utils';\nimport { useGridLogger } from './useGridLogger';\nexport var useGridNativeEventListener = function useGridNativeEventListener(apiRef, ref, eventName, handler, options) {\n  var logger = useGridLogger(apiRef, 'useNativeEventListener');\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      added = _React$useState2[0],\n      setAdded = _React$useState2[1];\n\n  var handlerRef = React.useRef(handler);\n  var wrapHandler = React.useCallback(function (args) {\n    return handlerRef.current && handlerRef.current(args);\n  }, []);\n  React.useEffect(function () {\n    handlerRef.current = handler;\n  }, [handler]);\n  React.useEffect(function () {\n    var targetElement;\n\n    if (isFunction(ref)) {\n      targetElement = ref();\n    } else {\n      targetElement = ref && ref.current ? ref.current : null;\n    }\n\n    if (targetElement && wrapHandler && eventName && !added) {\n      logger.debug(\"Binding native \".concat(eventName, \" event\"));\n      targetElement.addEventListener(eventName, wrapHandler, options);\n      var boundElem = targetElement;\n      setAdded(true);\n\n      var unsubscribe = function unsubscribe() {\n        logger.debug(\"Clearing native \".concat(eventName, \" event\"));\n        boundElem.removeEventListener(eventName, wrapHandler, options);\n      };\n\n      apiRef.current.subscribeEvent('unmount', unsubscribe);\n    }\n  }, [ref, wrapHandler, eventName, added, logger, options, apiRef]);\n};","map":null,"metadata":{},"sourceType":"module"}